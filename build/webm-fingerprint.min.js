var BitArray=function(t,e){if(this.values=[],e){if(e=e.slice(/^0x/.exec(e)?2:0),4*e.length>this.length)throw"Hex value is too large for this bit array.";if(4*e.length<this.length)for(;4*e.length<this.length;)e="0"+e;for(var r=0;r<e.length/8;r++){var n=e.slice(8*r,8*r+8);this.values[r]=parseInt(n,16)}}else for(var r=0;r<Math.ceil(t/32);r+=1)this.values[r]=0};BitArray.prototype.size=function(){return 32*this.values.length},BitArray.prototype.set=function(t,e){var r=Math.floor(t/32);return e?this.values[r]|=1<<t-32*r:this.values[r]&=~(1<<t-32*r),this},BitArray.prototype.toggle=function(t){var e=Math.floor(t/32);return this.values[e]^=1<<t-32*e,this},BitArray.prototype.get=function(t){var e=Math.floor(t/32);return!!(this.values[e]&1<<t-32*e)},BitArray.prototype.reset=function(){return this.values=[],this},BitArray.prototype.copy=function(){var t=new BitArray;return t.length=this.length,t.values=[].concat(this.values),t},BitArray.prototype.equals=function(t){return this.values.length===t.values.length&&this.values.every(function(e,r){return e===t.values[r]})},BitArray.prototype.toJSON=function(){return JSON.stringify(this.values)},BitArray.prototype.toString=function(){return this.toArray().map(function(t){return t?"1":"0"}).join("")},BitArray.prototype.toBinaryString=function(){return this.toArray().map(function(t){return t?"1":"0"}).reverse().join("")},BitArray.prototype.toHexString=function(){for(var t=[],e=0;e<this.values.length;e+=1)t.push(("00000000"+(this.values[e]>>>0).toString(16)).slice(-8));return t.join("")},BitArray.prototype.toArray=function(){for(var t=[],e=0;e<32*this.values.length;e+=1)t.push(this.get(e));return t},BitArray.prototype.count=function(){var t=0;return this.values.forEach(function(e){e-=e>>1&1431655765,e=(858993459&e)+(e>>2&858993459),e+=e>>4,e&=252645135,t+=16843009*e>>24}),t},BitArray.prototype.not=function(){return this.values=this.values.map(function(t){return~t}),this},BitArray.prototype.or=function(t){if(this.values.length!==t.values.length)throw"Arguments must be of the same length.";return this.values=this.values.map(function(e,r){return e|t.values[r]}),this},BitArray.prototype.and=function(t){if(this.values.length!==t.values.length)throw"Arguments must be of the same length.";return this.values=this.values.map(function(e,r){return e&t.values[r]}),this},BitArray.prototype.xor=function(t){if(this.values.length!==t.values.length)throw"Arguments must be of the same length.";return this.values=this.values.map(function(e,r){return e^t.values[r]}),this};var PerceptualHash=function(){function t(t,e,r){var n=document.createElement("canvas");n.width=e,n.height=r;var a=n.getContext("2d");a.drawImage(t,0,0,e,r);for(var i=a.getImageData(0,0,e,r).data,o=[],u=0;r*e*4>u;u+=4){var s=(i[u]+i[u+1]+i[u+2])/3;s*=255/i[u+3],o.push(Math.floor(s))}return o}function e(e){for(var r=t(e,8,8),n=r.reduce(function(t,e){return t+e}),a=n/r.length,i=new BitArray(64),o=0;64>o;o++)i.set(o,r[o]>=a);return i.toHexString()}function r(e){for(var r=t(e,9,8),n=new BitArray(64),a=0;64>a;a++)n.set(a,r[a]<r[a+1]);return n.toHexString()}return{aHash:e,dHash:r,createImage:t}}(),WebMFingerprint=function(){function t(t,e){function r(){return a.push(PerceptualHash.aHash(t)),n.push(PerceptualHash.dHash(t)),t.duration-t.currentTime>1?void(t.currentTime+=1):e(null,{aHashes:a,dHashes:n})}t.currentTime=0;var n=[],a=[];t.addEventListener("seeked",r),r()}function e(e,r){var n=e.duration;return 1/0==n?r("Cannot fingerprint streaming media."):void 0==n||0/0==n?r("Video length not available."):0==n||0==e.readyState?e.addEventListener("loadedmetadata",function(){t(e,r)}):void t(e,r)}return e}();"undefined"!=typeof module&&module.exports&&(module.exports=WebMFingerprint);
//# sourceMappingURL=webm-fingerprint.min.js.map