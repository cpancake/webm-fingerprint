{"version":3,"sources":["?"],"names":["BitArray","size","hex","this","values","slice","exec","length","i","parseInt","Math","ceil","prototype","set","index","value","floor","toggle","get","reset","copy","cp","concat","equals","x","every","toJSON","JSON","stringify","toString","toArray","map","join","toBinaryString","reverse","toHexString","result","push","count","total","forEach","not","v","or","and","xor","KeyframeExtractor","createHistogram","element","image","PerceptualHash","createImage","videoWidth","videoHeight","histogram","pixel","Object","keys","k","calculateImageEntropy","probability","h","filter","log","LN2","reduce","a","b","findShotBoundary","frames","entropyDifference","abs","highestShotIndex","highestShotValue","width","height","isGrayscale","undefined","canvas","document","createElement","ctx","getContext","drawImage","data","getImageData","grayscale","average","aHash","pixels","sum","avg","bits","dHash","cHash","rSum","gSum","bSum","averageColor","totalDistanceFromAverage","uniqueColors","distance","colorStr","uniqueCount","WebMFingerprint","processElement","config","callback","checkFrames","checkingFrames","generateHashes","checkedFrames","currentTime","duration","highestFrameIndex","frameJump","generateAHash","hash","aHashes","indexOf","generateDHash","dHashes","removeEventListener","fps","addEventListener","fingerprint","nodeName","Infinity","NaN","readyState","module","exports"],"mappings":"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","file":"webm-fingerprint.min.js","sourcesContent":[null],"sourceRoot":"/source/"}